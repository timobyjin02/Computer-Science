## 알아둬야 하는 용어

- TCP/IP : 인터넷으로 통신하는 데 있어 가장 기반이 되는 프로토콜
- 프로토콜 : 컴퓨터나 원거리 통신 장비 사이에서 메시지를 주고 받는 양식과 규칙의 체계이다.

# OSI 7 Layer

OSI 7 Layer은 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것이다.

![Untitled](https://user-images.githubusercontent.com/101804857/199656019-4e959b52-b881-4836-a14c-0b9906778b53.png)

## 계층을 나눈 이유

계층을 나눈 이유는 통신이 일어나는 과정이 단계별로 파악할 수 있기 때문이다.

**어느 부분에서 이상이 발생하는지 확실히 알고, 그 부분만 수정하면 되기 때문에** 이렇게 계층을 나눴다.

## TCP/IP 4 Layer

`TCP/IP` 프로토콜은 `OSI 모델`보다 먼저 개발되었다. 그래서 `OSI 모델`이 나오기 전부터 계속 표준화되어 신뢰성이 우수하지만, `OSI 모델`은 표준 `TCP/IP`만큼 많이 사용되지 않아 신뢰성이 높은 편은 아니다.

`TCP/IP`가 거의 표준화로 자리 잡았지만. `OSI 모델`은 네트워크 통신 구축 및 개발에 기본적인 개념이 되기 때문에 알아둬야 한다.

## 계층

### 1계층\_물리(Pysical)

`OSI 7 Layer`의 가장 아래의 위치한 1계층으로, 하드웨어로 표현된다.

주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송한다. (바로 윗 계층인 데이터 링크 계층에서 만들어진 데이터 단위인 프레임을 신호로 인코딩해서 네트워크 장치로 전송된다.)

네트워크 장치로 전송될 때 `0`, `1`로 구성된 데이터 bit를 전기 신호로 변환을 해서 **물리적 통신**을 수행한다.

그리고 **전송되는 방법, 제어 신호, 기계적 속성** 등을 정의한다.

이 계층에서는 단지 데이터를 전달만 할 뿐 전송하려는 **데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경 쓰지 않는다**.

대표적인 장비는 `통신 케이블`, `리피터`, `허브`등이 있다.

### 2계층\_데이터 링크(Data Link)

`OSI 7 Layer`의 2번째 계층으로 인접한 네트워크 노드끼리 데이터를 전송하는 기능과 절차를 제공한다.

![Untitled (1)](https://user-images.githubusercontent.com/101804857/199656081-53c27799-4f83-46d4-aba9-aec314623357.png)

1. **프레임 단위**로 데이터 전송을 한다.
2. **오류없이** 안전하게 데이터를 보내는 역할을 한다.
3. 헤더에 통신자, 송신자 물리주소가 들어 있다.

- **MAC Address** : IP는 동적으로 할당받는 주소이며, 고유한 값이 될 수 없다. 그래서 물리적인 NIC를 식별하여 Frame을 보내야 하는데, NIC 고유 식별 정보가 바로 MAC이다.

대표적으로는 `브리지`, `스위치`등이 있다.

### 3계층\_네트워크(Network)

`OSI 7 Layer`의 3계층에 속한다. 전송될 패킷의 모든 경로를 아는 것이 아닌 패킷 단위로 그때 그때의 목적지를 찾아가는 방식이다.

![Untitled (2)](https://user-images.githubusercontent.com/101804857/199656127-853743e0-bdcc-42c9-a41a-5a86d6067f94.png)

노드에는 IP주소와 Routing Table이 있다.

네트워크 레이어에서는 IP datagram을 주소 받는데, IP datagram의 Header에는 송신자, 목적지 주소가 있다. 목적지 주소와 Routing Table을 보고 길을 찾아 패킷을 `Host-to-Host Delivery`나 `Hop-by-Hop Delivery`를 이용하여 전송한다.

1. 데이터를 목적지 호스트까지 전달하기 위한 **정보를 제공**한다.
2. 여기서 **IP를 지정**한다.
3. 이를 통해 오류 제어, 흐름제어, 그리고 패킷을 나눠 보낼 수 있게 한다

대표적인 장비로는 `라우터`, `IP`, `L3 스위치등이` 있다.

### 4계층\_수송 계층(Transport)

![Untitled (3)](https://user-images.githubusercontent.com/101804857/199656262-47fec7cc-ac10-4327-b90a-c5112c488c3b.png)

전송 단위는 `UDP`일 경우엔 `user datagram`, `TCP`일 때는 `segment` 단위로 전송한다.

네트워크가 아닌 호스트 내에 구동된 프로세스 사이의 연결 확립.(End-to-End)

정보 전달을 두 호스트 간 보단, 주로 프로세스 간(P2P)의 통신으로 바꾸어 준다.

1. 종단 호스트 PC간 전송을 수행한다.
2. 여기서 **TCP와 UDP중 어떤 프로토콜을 사용할 것인지를 결정**한다.
3. Port를 제어한다는 의미로 `L4 로드 밸런서`라는 장비가 존재한다.

### 5계층\_세션(Session)

이 계층에서부터는 애플리케이션에 관련된 층이라고 볼 수 있다. 각각의 네트워크로 연결되어 있을 수 있는 장비나 제일 밑단의 클라이언트들의 세션을 관장할 수 있는 층이다.

물리 계층에서 전송 계층까지의 주된 기능은 단순히 데이터를 전달하는 것이다. 이에 반해 세션 계층에서 응용 계층까지의 상위 계층의 주된 기능은 데이터를 송수신하는양쪽의 종점 컴퓨터내의 프로세스 가능이 통신 프로토콜이라 할 수 있다.

- 데이터 통신을 위한 **논리적 연결을 담당**한다.
- 여기서 오류가 발생하면 **체크포인트부터 재개**할 수 있게 해준다.
- 로컬 및 원격 애플리케이션 간 **IP와 Port 연결을 관리**한다.

대표적인 장비로는 `API`, `Socket`등이 있다.

### 6계층\_표현(**Presentation**)

각각의 애플리케이션들의 정보를 서로 잘 통신할 수 있도록 필터하고 변환하는 층이라고 설명할 수 있다.

표현 계층은 응용 계층으로부터 넘겨받은 데이터를 세션 계층이 다룰 수 있는 형태로 바꾸고 반대로 세션 계층에서 넘겨 받은 데이터를 응용 계층이 이해할 수 있는 형태로 바꾸고 전달하는 일을 담당한다.

- 데이터 **암호화/복호화**, **압축/해제**를 담당한다.
- 사용자의 **프로그램과 네트워크 형식 간에 데이터를 변환해서 표현과 독립성을 제공**한다.

대표적인 장비로는 `JPEG`, `MPEG`, `ASCII`등이 있다.

### 7계층\_응용(**Application**)

![Untitled (4)](https://user-images.githubusercontent.com/101804857/199656326-35188775-11f5-434d-b1e5-364ad4607db9.png)

응용계층은 **메시지 단위**로 전송한다. 이메일로 예를 들면, 헤더가 있고 데이터에 텍스트, 첨부파일 등 메시지에 이런 것들이 다 들어간다. 헤더에는 송신자 주소, 수신자 주소, 제목, 날짜가 데이터 형태로 들어가 있다.

이 메시지가 Transport Layer로 내려가면 여러 가지 패킷으로 잘려서 나뉘어진다.

- **데이터를 주고 받을 수 있는 프로세스 계층**이다.
- **일반적인 응용 서비스**를 수행한다.

대표적인 장비로는 `HTTP`, `FTP`, `DNS`, `SMTP`, `이메일 서비스`등이 있다.

## 예시

홍익대 주소

서울시 마포구 와우산로 94로 우편물을 보내는 상황이라고 생각하면

전국에서 서울시 주소(**MAC addr**)를 찾고 - **Data Link Layer**

마포구 주소(**IP Addr**)를 찾아 - **Network Layer**

월드컵로(**Port**)를 찾은 뒤

10길(**Socket**)에 도착하여 - **Transport Layer**

메일을 **전달**한다 - **Applicaton**

[뒤로](https://github.com/timobyjin02/Computer-Science/blob/main/Network/index.md)
